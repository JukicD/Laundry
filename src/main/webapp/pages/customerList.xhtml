<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/templates/template.xhtml"
                xmlns:pe="http://primefaces.org/ui/extensions">
    <ui:define name="metadata"/>
    <ui:define name="content">
        
        
        <h:form id="customerList">
            <p:contextMenu for="customerTable">
                <p:menuitem value="Aktuelle Lieferung" icon="ui-icon-search" url="/pages/customerMain.xhtml"/>
                <p:menuitem value="Vergangene Lieferung" icon="ui-icon-folder-collapsed" url="/pages/oldOrders.xhtml"/>
                <p:menuitem value="Bearbeiten" icon="ui-icon-arrowrefresh-1-e" url="/pages/updateCustomer.xhtml"/>
            </p:contextMenu>
            
            <p:dataTable id="customerTable" 
                         var="customer" value="#{customerFilter.customers}" 
                         resizableColumns="true" 
                         widgetVar="customersList" 
                         tableStyle="width: auto"
                         emptyMessage="Keine Kunden vorhanden!" 
                         filteredValue="#{customerFilter.filteredCustomers}" 
                         rendered='#{not empty customerFilter.customers}' style="margin-left: auto; margin-right: auto; margin: 0; padding: 0;" draggableColumns="true" draggableRows="true"
                         rowKey="#{customer.id}"
                         selection="#{customerSelectionController.selectedCustomer}"
                         selectionMode="single">
                
                <p:ajax event="contextMenu" listener="#{userController.setup(customerSelectionController.selectedCustomer)}"/>
                <p:ajax event="rowSelect" listener="#{userController.setup(customerSelectionController.selectedCustomer)}"/>
                
                <p:column filterBy="#{customer.name}" sortBy="#{customer.name}" headerText="Kunde" style="width: 300px" filterMatchMode="contains">
                    <h:outputText value="#{customer.name}" />
                </p:column>
            </p:dataTable>
        </h:form>
    </ui:define>
</ui:composition>