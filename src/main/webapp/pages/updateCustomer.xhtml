<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://java.sun.com/jsf/core"
                template="/templates/template.xhtml"
                xmlns:pe="http://primefaces.org/ui/extensions">
    <ui:define name="metadata"/>
    <ui:define name="content">
        
        <h:form id="customerUpdate">
            <p:ajaxStatus onstart="statusDialog.show();" onsuccess="statusDialog.hide();"  />
            <p:growl sticky="false" life="3500" showDetail="false"/>
            
            <h1 style="font-size: 20px">Bezeichnung</h1>
            <p:separator/>
            <h:panelGrid id="customer_grid_update" columns="2" cellspacing="1" cellpadding="5">
                
                <p:outputLabel  for="name_update" value="Kunde:"/>
                <h:inputText id="name_update" value="#{userController.customer.name}" required="true" requiredMessage="Name eingeben!"/>
                
                <p:outputLabel for="companyName_update" value="Firmenbezeichnung:"/>
                <h:inputText id="companyName_update" value ="#{userController.customer.companyName}" required="true" requiredMessage="Firmennamen eingeben!"/>
                
                <p:outputLabel for="customerNumber_update" value="Kundennummer:" />
                <h:inputText id="customerNumber_update" value ="#{userController.customer.customerNumber}" required="true" requiredMessage="Kundennummer eingeben!"/>
                
                <p:outputLabel for="address_update" value="Adresse:"/>
                <h:inputText id="address_update" value ="#{userController.customer.address}" required="true" requiredMessage="Adresse eingeben!"/>
                
                <p:outputLabel for="zipCode_update" value="Postleitzahl/Ort"/>
                <h:inputText id="zipCode_update" value ="#{userController.customer.zipCode}" required="true" requiredMessage="Postleitzahl/Ort eingeben!"/>
                
            </h:panelGrid>
            <h1 style="font-size: 20px">Kontaktdaten</h1>
            <p:separator/>
            
            <h:panelGrid id="contactPanel_update" columns="2" cellspacing="1" cellpadding="5">
                <p:outputLabel for="eMail_update" value="E-Mail:"/>
                <h:inputText id="eMail_update" value ="#{userController.customer.mailAddress}"/>
                
                <p:outputLabel for="phoneNumber_update" value="Telefonnummer:"/>
                <h:inputText id="phoneNumber_update" value ="#{userController.customer.phoneNumber}"/>
            </h:panelGrid>
            
            <h1 style="font-size: 20px">Zusätzliche Information</h1>
            <p:separator/>
            
            <h:panelGrid id="informationPanel_update" columns="2" cellspacing="1" cellpadding="5">
                <p:outputLabel for="skonto_update" value="Skonto:"/>
                <h:inputText id="skonto_update" value ="#{userController.customer.skonto}"/>
                
                <p:outputLabel for="dueTime_update" value="Fälligkeitsdauer:"/>
                <h:inputText id="dueTime_update" value ="#{userController.customer.dueTime}"/>
            </h:panelGrid>
            
            
            <h1 style="font-size: 20px">Rechnungstext</h1>
            <p:separator/>
            
            <h:panelGrid>
                
                <p:editor id="greetingsEditor_update" widgetVar="editorWidget" width="600" value="#{userController.customer.billingText}"/>
            </h:panelGrid>
            <p:separator/>
            <p:commandButton  action = "#{userController.update}" value="Speichern" style="margin-right:10px; border-radius: 0px" 
                              actionListener="#{growlController.saveMessage}" ajax="true" 
                              onclick="PF('blockUIWidget').block()" oncomplete="PF('blockUIWidget').unblock()" styleClass="save-button"
                              update="customer_grid_update"
                              process="@form">
                
                <p:resetInput target=":customerUpdate:customer_grid_update"/>
            </p:commandButton>
            
            <p:commandButton onclick="history.back(); return false;" value="Abbrechen" ajax="true" style="border-radius: 0px"/>
            <pe:blockUI widgetVar="blockUIWidget">
                <h:panelGrid columns="2">
                    <p:graphicImage id="loader" name="images/ajax-loader.gif" style="margin-right: 12px; vertical-align: middle" rendered="true"/>
                    <h:outputText value="Please wait..." style="white-space: nowrap;"/>
                </h:panelGrid>
            </pe:blockUI>
        </h:form>
    </ui:define>
</ui:composition>
